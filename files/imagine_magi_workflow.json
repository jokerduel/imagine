{"id":"39c9b7ff-8333-4a0e-836f-bea9f1dc471e","revision":0,"last_node_id":44,"last_link_id":129,"nodes":[{"id":11,"type":"DualCLIPLoader","pos":[-619.8280639648438,288.32861328125],"size":[315,130],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"clip_name1","name":"clip_name1","type":"COMBO","widget":{"name":"clip_name1"},"link":null},{"localized_name":"clip_name2","name":"clip_name2","type":"COMBO","widget":{"name":"clip_name2"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[124]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"DualCLIPLoader"},"widgets_values":["clip_l.safetensors","t5xxl_fp16.safetensors","flux","default"]},{"id":12,"type":"UNETLoader","pos":[-623.9747924804688,153.65875244140625],"size":[315,82],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[56]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"UNETLoader"},"widgets_values":["flux1-dev.safetensors","default"],"color":"#223","bgcolor":"#335"},{"id":27,"type":"EmptySD3LatentImage","pos":[37.104408264160156,406.5552978515625],"size":[315,106],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":112},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":113},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[116]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"EmptySD3LatentImage"},"widgets_values":[1024,1024,1]},{"id":34,"type":"PrimitiveNode","pos":[-214.38705444335938,284.9321594238281],"size":[210,82],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","widget":{"name":"width"},"slot_index":0,"links":[112,115]}],"title":"width","properties":{"Run widget replace on values":false},"widgets_values":[1024,"fixed"],"color":"#323","bgcolor":"#535"},{"id":10,"type":"VAELoader","pos":[-617.7184448242188,478.6954345703125],"size":[311.81634521484375,60.429901123046875],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[12]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"VAELoader"},"widgets_values":["ae.safetensors"]},{"id":13,"type":"SamplerCustomAdvanced","pos":[916.3652954101562,182.0971221923828],"size":[272.3617858886719,124.53733825683594],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"noise","name":"noise","type":"NOISE","link":37},{"localized_name":"guider","name":"guider","type":"GUIDER","link":30},{"localized_name":"sampler","name":"sampler","type":"SAMPLER","link":19},{"localized_name":"sigmas","name":"sigmas","type":"SIGMAS","link":20},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":116}],"outputs":[{"localized_name":"output","name":"output","type":"LATENT","slot_index":0,"links":[24]},{"localized_name":"denoised_output","name":"denoised_output","type":"LATENT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"SamplerCustomAdvanced"},"widgets_values":[]},{"id":8,"type":"VAEDecode","pos":[898.0430908203125,369.82733154296875],"size":[210,46],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":24},{"localized_name":"vae","name":"vae","type":"VAE","link":12}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[9]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":26,"type":"FluxGuidance","pos":[478.10650634765625,184.26795959472656],"size":[317.4000244140625,58],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":41},{"localized_name":"guidance","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[42]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"FluxGuidance"},"widgets_values":[3.5],"color":"#233","bgcolor":"#355"},{"id":22,"type":"BasicGuider","pos":[535.731689453125,47.14323806762695],"size":[222.3482666015625,46],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":128},{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":42}],"outputs":[{"localized_name":"GUIDER","name":"GUIDER","type":"GUIDER","slot_index":0,"links":[30]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"BasicGuider"},"widgets_values":[]},{"id":40,"type":"LoraLoader","pos":[458.5729675292969,370.8006591796875],"size":[340.68292236328125,128.8273162841797],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":129},{"localized_name":"clip","name":"clip","type":"CLIP","link":124},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"strength_model","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null},{"localized_name":"strength_clip","name":"strength_clip","type":"FLOAT","widget":{"name":"strength_clip"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[127,128]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[125]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"LoraLoader"},"widgets_values":["magi_nation_model.V007-000040.safetensors",1,1.0000000000000002]},{"id":28,"type":"Note","pos":[-623.9747924804688,585.6587524414062],"size":[336,288],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{"text":""},"widgets_values":["If you get an error in any of the nodes above make sure the files are in the correct directories.\n\nSee the top of the examples page for the links : https://comfyanonymous.github.io/ComfyUI_examples/flux/\n\nflux1-dev.safetensors goes in: ComfyUI/models/unet/\n\nt5xxl_fp16.safetensors and clip_l.safetensors go in: ComfyUI/models/clip/\n\nae.safetensors goes in: ComfyUI/models/vae/\n\n\nTip: You can set the weight_dtype above to one of the fp8 types if you have memory issues."],"color":"#432","bgcolor":"#653"},{"id":30,"type":"ModelSamplingFlux","pos":[45.70695495605469,204.3582763671875],"size":[315,130],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":56},{"localized_name":"max_shift","name":"max_shift","type":"FLOAT","widget":{"name":"max_shift"},"link":null},{"localized_name":"base_shift","name":"base_shift","type":"FLOAT","widget":{"name":"base_shift"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":115},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":114}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[129]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"ModelSamplingFlux"},"widgets_values":[1.0000000000000002,1.0000000000000002,1024,1024]},{"id":37,"type":"Note","pos":[28.409725189208984,-103.31865692138672],"size":[329.361083984375,247.78732299804688],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{"text":""},"widgets_values":["The reference sampling implementation auto adjusts the shift value based on the resolution, if you don't want this you can just bypass (CTRL-B) this ModelSamplingFlux node.\n\nbase_shift won't be used at 1024x1024 resolution. You can leave it at 1.0. If you find an image you like but it has a minor detect try slightly increasing or decreasing your max_shift (+/- 0.01).\n\nA good guideline is to keep max_shift between 0.0 and 2.0\n"],"color":"#432","bgcolor":"#653"},{"id":16,"type":"KSamplerSelect","pos":[488.48199462890625,919.53955078125],"size":[315,58],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null}],"outputs":[{"localized_name":"SAMPLER","name":"SAMPLER","type":"SAMPLER","links":[19]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"KSamplerSelect"},"widgets_values":["euler"]},{"id":43,"type":"Note","pos":[145.27487182617188,919.3309936523438],"size":[322.7219543457031,88],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{"text":""},"widgets_values":["euler and euler_ancestral give good results"],"color":"#432","bgcolor":"#653"},{"id":9,"type":"SaveImage","pos":[1372.8985595703125,247.98516845703125],"size":[1000.3012084960938,1033.3828125],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":9},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":6,"type":"CLIPTextEncode","pos":[836.0999755859375,612.8994750976562],"size":[422.84503173828125,164.31304931640625],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":125},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[41]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"CLIPTextEncode"},"widgets_values":["naroom_magi, female, long blonde wavy hair, blue eyes, light skin, brown boots, stylish outfit, walking in green forest\n"],"color":"#232","bgcolor":"#353"},{"id":42,"type":"Note","pos":[133.40151977539062,583.7256469726562],"size":[314.99755859375,117.98363494873047],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[],"properties":{"text":""},"widgets_values":["Scheduler: Use simple by default, other types like normal work too.\n\nSteps: 40 tends to create better images. 20 will be faster, but tends to do worse on details like hands."],"color":"#432","bgcolor":"#653"},{"id":17,"type":"BasicScheduler","pos":[473.88531494140625,588.8139038085938],"size":[315,106],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":127},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"SIGMAS","name":"SIGMAS","type":"SIGMAS","links":[20]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"BasicScheduler"},"widgets_values":["simple",40,1]},{"id":25,"type":"RandomNoise","pos":[480,768],"size":[315,82],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"noise_seed","name":"noise_seed","type":"INT","widget":{"name":"noise_seed"},"link":null}],"outputs":[{"localized_name":"NOISE","name":"NOISE","type":"NOISE","links":[37]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.38","Node name for S&R":"RandomNoise"},"widgets_values":[884310979257887,"randomize"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":44,"type":"Note","pos":[137.50238037109375,767.5470581054688],"size":[322.7219543457031,88],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[],"properties":{"text":""},"widgets_values":["Set control_after_generate to fixed to generate the same image with different inputs (like changing max_shift)"],"color":"#432","bgcolor":"#653"},{"id":35,"type":"PrimitiveNode","pos":[-218.97218322753906,424.010498046875],"size":[210,82],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","widget":{"name":"height"},"slot_index":0,"links":[113,114]}],"title":"height","properties":{"Run widget replace on values":false},"widgets_values":[1024,"fixed"],"color":"#323","bgcolor":"#535"}],"links":[[9,8,0,9,0,"IMAGE"],[12,10,0,8,1,"VAE"],[19,16,0,13,2,"SAMPLER"],[20,17,0,13,3,"SIGMAS"],[24,13,0,8,0,"LATENT"],[30,22,0,13,1,"GUIDER"],[37,25,0,13,0,"NOISE"],[41,6,0,26,0,"CONDITIONING"],[42,26,0,22,1,"CONDITIONING"],[56,12,0,30,0,"MODEL"],[112,34,0,27,0,"INT"],[113,35,0,27,1,"INT"],[114,35,0,30,4,"INT"],[115,34,0,30,3,"INT"],[116,27,0,13,4,"LATENT"],[124,11,0,40,1,"CLIP"],[125,40,1,6,0,"CLIP"],[127,40,0,17,0,"MODEL"],[128,40,0,22,0,"MODEL"],[129,30,0,40,0,"MODEL"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.45,"offset":[2887.3055165608725,1013.8783908420139]},"frontendVersion":"1.23.4","groupNodes":{},"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}